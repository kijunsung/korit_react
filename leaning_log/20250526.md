## axios 라이브러리 활용
외부 라이브러리 활용 
터미널에서 npm install axios

과정
1. 터미널에서 npm install axios
2. axios를 사용하기 전에 리엑트 컴포넌트 상에서
```tsx
import axios from 'axios';
```

```tsx
axios.get('https://someapi.com')
.then(response => console.log(response))
.catch(error => console.log(error))
```

전용메서드가 있는데 post쓸려면 
```tsx
axios.post('https://someapi.com', {newObject})
.then(response => console.log(response))
.catch(error => console.log(error))
```
혹은 axios() _함수_ 를 이용하는 방법 (axios.post()는 post 메서드입니다.
python에서 배운 것처럼 점 찍고 작성하는지 아닌지에 따라 function / method의 구분이 )

axios 함수 사용 예시
```tsx
const response => await axios({
  method: 'POST',
  url: 'https://myapi.com/api/cars',
  headers: {'Content-Type': 'appi'},
  data: {brand: 'Ford', model:'Ranger'}
});
```

위의 예시 코드는 https://myapi.com/api/cars 엔드포인트로 POST 요청을 보냅니다. 요청 본문에는 객체가 포함되고, Axios 라이브러리는 자동으로 데이터를 문자열화(stringify)합니다. (JSON 문자열 데이터로 만들어준다는 의미입니다, )

# OpenWeather API
날씨를 보여주는 리엑트 앱을 만들겁니다.
온도, 설명, 날씨 아이콘을 포함시킬거고, 데이터는 
https://openweathermap.org/ 에서 가져옵니다.
처음하는 외부 데이터 수집 및 가공이 될 예정입니다.

헤더에 API -> 링크 중에 sign on 선택하신 후에 create a new account 창을 
통해서 가입 하고 

우측에 계정 클릭해서 my api keys 들어가서 key가 있는지 확인

App.jsx가 초기화되었다고 가정한 상태에서 진행합니다.
1. 날씨 응답 데이터를 저장하는데 필요한 

```jsx
import { useState } from "react"
import './App.css'

function App() {
  const [weather, setWeather] = useState(
  temp: '',
  desc: '',
  icon:''
  );

  return (
    <>

    </>
  )
}

export default App
```
2. REST API를 이용하는 경우에 응답을 검사하여 JSON 데이터의 포멧을 확인해봐야합니다. 예를 들어
https://api.openweathermap.org/data/2.5/weather?q=Busan&units=Meric&APIkey=c1a90f11d4aa8b6ae50c104a6d8d3612

```json
{
  "coord": {
    "lon": 129.0403,
    "lat": 35.1028
  },
  "weather": [
    {
      "id": 800,
      "main": "Clear",
      "description": "clear sky",
      "icon": "01d"
    }
  ],
  "base": "stations",
  "main": {
    "temp": 291.14,
    "feels_like": 290.77,
    "temp_min": 291.14,
    "temp_max": 291.14,
    "pressure": 1019,
    "humidity": 68,
    "sea_level": 1019,
    "grnd_level": 1014
  },
  "visibility": 10000,
  "wind": {
    "speed": 0.51,
    "deg": 320
  },
  "clouds": {
    "all": 0
  },
  "dt": 1748221412,
  "sys": {
    "type": 1,
    "id": 8086,
    "country": "KR",
    "sunrise": 1748204013,
    "sunset": 1748255309
  },
  "timezone": 32400,
  "id": 1838524,
  "name": "Busan",
  "cod": 200
}```

브라이주 상의 응답 데이터를 확인했을 때 main.temp를 이용하면 온도를 조회할 수 있고 ,
weather[0].description과 weather[0].icon을 통해서 각각 설명과 아이콘을 조회할 수 있습니다.

3. 이제 저희는 useEffect를 사용할건데 , useEffect()는 상대의 변화에 따라서 렌더랑을 할 것인가 말것인가를 지정할 수 있다고 했습니다.

최초 렌더링 시에만 api를 참조하고 싶다면 어떻게 작설했었는지 떠올릴 필요가 있습니다.

```jsx
import { useEffect, useState } from "react"
import './App.css'

function App() {
  const [weather, setWeather] = useState({
      temp: '',
      desc: '',
      icon :''
    }
  );

  useEffect(() => {
  fetch  ('https://api.openweathermap.org/data/2.5/weather?q=Busan&units=Meric&APIkey=c1a90f11d4aa8b6ae50c104a6d8d3612')
  .then(Response => Response.json())
  .then(result() => {
    setWeather((
      temp: result.main.temp,
      desc: result.weather[0].description,
      icon: result.weather[0].icon
    ));
  })
  .catch(err => console.log(err));
  },[]); 

  return (
    <>

    </>
  )
}

export default App
```
이상을 작성하고 나서 개발자 도구 상에서 components 탭을 확인해보면 (이거 리엑트 개발자도구입니다.) weather 객체에 값이 들어가있는 것을 확인할 수 있습니다.
이는 최초 랜더링이 일어났을 때 바로 setWeather 함수가 실행되기 때문입니다. 이해가 어렵다면 

```jsx
import { useEffect, useState } from "react"
import './App.css'

function App() {
  const [weather, setWeather] = useState(
    temp : '',
    desc : '',
    icon :''
  );

  useEffect(() => {
  fetch  ('https://api.openweathermap.org/data/2.5/weather?q=Busan&units=Meric&APIkey=c1a90f11d4aa8b6ae50c104a6d8d3612')
  .then(Response => Response.json())
  .then(result() => {
    setWeather((
      temp: result.main.temp,
      desc: result.weather[0].description,
      icon: result.weather[0].icon
    ));
  })
  .catch(err => console.log(err));
  },[]); 
if (weather.icon) {
  return (
    <>
    <p>온도 : {weather.temp}</p>
    <p>설명 : {weather.desc}</p>
    <p>아이콘 : {weather.icon}</p>  //이렇게 확인하면 json데이터를 조화하기 때문에 sting으로 나옵니다.
    <img src={'https://openerathermap.org/img/wn/${weater.icon}@2x.png'}
    alt="날씨아이콘입니다." />
    </>
  )
} else {
  return <h1>로딩 중...</h1>
}
}

export default App
```

4. 이상의 코드를 통해 날씨를 구현할 수 있게 되었습니다. 주의해야할 점은 weater.icon 내에는 string 데이터만 들어가 있기 때문에 img 태그를 통해서 불러온다고 하더라도 ait만 나오게됩니다.
이를 조회하는 방법은 
https://openweathermap.org/img/wn/에서  아이콘 코드를 추가한 후 뒤에 @2x.png를 명시해줘야 합니다.
이상의 코드에서 img 태그를 확인하십시오.

OpenWeater API를 통해서 fetch -> .then()을 통한 데이터 가지고 오기를 학습했습니다. 
이후에는 aaxios 라이브러리를 이용하여 외부 api의 정보를 가지고 올 수 있게끔 할 예정입니다.
공통점과 차이점에 초점을 맞추어 학습하시기 바랍니다.

# Github API
키워드별로 리포지토리를 검색해오는 앱을 만들 예정입니다.
웹 요청에서는 axios 라이브러리를 사용할거고, TS도 연습할겁니다.

TS로 axios를 이용하여 GET 요청을 보내는 예제 코드를 설명하겠습니다.

```tsx
import 

type MyDataType = {
  id: number;
  name;
}

axios.get<MyDataType>(apiUrl)
.then(response => consol.log(response))
.catch(err => consol.log(err))
```

예상 데이터 타입에 어뵤는 일부 필드에 접근하려고 하면 개발 단계 초기에 오류가 발생합니다. 
(여태까지와 다르게 저희는 외부 API를 사용하고 있기 때문에 각 properties에 어떤 값이 들어가있는지 명확하게 알지 못하는 상황이 이제는 자주 발샐하게 되겠죠)이 시점에서 TS는 JS로 컴파일되며 모든 타입 정보가 제거되는데, 타입 스크립트는 런타임 작동에 영향을 미치지 않습니다.
REST API가 예상과 다른 데이터를 반환하는 경우 TS는 이를 런타임 오류로 포착할 수 없습니다.

1. restgithub 앱 생성 -> React / TypeScript
2. 설치할 거 다 설치하고, npm install axios도 미리 하겠습니다.
3. App.tsx 초기화 